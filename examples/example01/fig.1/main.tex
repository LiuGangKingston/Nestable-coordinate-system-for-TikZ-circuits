\documentclass[tikz,border=5mm]{standalone}
\usepackage[siunitx]{circuitikz}
\usetikzlibrary{shapes,arrows,positioning}
\input{afewmorecommandsintikzpiture}






\begin{document}

\ctikzset{
/tikz/circuitikz/bipoles/length=1cm
}



 
 
 \begin{circuitikz} [scale=0.8]
 \input{coordgangliu}

% Draw related part of the coordinate system with dashed helplines with letters as background, which would help to determine all coordinates. 
%\coordinatebackgroundxy{gangliu}
      {f}{g}{v}  {f}{g}{q};
\draw [white] (gangliupppdp) -- (gangliupppgp);


% Draw the Opamp at the coordinate (gangliupppli) and name it as "myopamp".
\draw (gangliupppli) 
      node [op amp] (myopamp) {} ; 

% Retrieve the x- and y-components of the coordinates of the "+", "-", and "out" pins of myopamp, supposing we have no idea about them beforehand. 
\getxyingivenunit{cm}{(myopamp.+)}
                 {\myopamppx}{\myopamppy};
\getxyingivenunit{cm}{(myopamp.-)}
                 {\myopampnx}{\myopampny};
\getxyingivenunit{cm}{(myopamp.out)}
                 {\myopampox}{\myopampoy};

\draw (myopamp.-) -| (gangliupppjj) 
      to [R, l_=$R_F \text{=} 300K \Omega$,
                label/align=rotate] 
      (gangliupppjm) -| (gangliupppni);

\draw [-o] (myopamp.out) 
      to[short, xshift=1mm] 
      (\gangliuxxxq, \myopampoy) node [anchor=north, yshift=-1mm] {$V_0$};

\draw (\gangliuxxxj, \myopampny) -- 
      (\gangliuxxxi, \myopampny) 
      to [R, l_=$R \text{=} 100 K\Omega$]  (\gangliuxxxg, \myopampny) -- (gangliupppgi) node [ground]{};;

\draw [-o] (myopamp.+) 
      to[short, xshift=-1mm] 
      (\gangliuxxxj, \myopamppy) node [anchor=north, yshift=-1mm] {$V_i$};

\end{circuitikz}


\end{document}